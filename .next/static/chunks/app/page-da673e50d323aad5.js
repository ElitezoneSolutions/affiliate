(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3545:function(e,t,r){Promise.resolve().then(r.bind(r,7144))},7144:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),s=r(4873),a=r(2869),i=r(6070),l=r(9376),o=r(2265);let c=(0,r(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function d(){let{user:e,loading:t}=(0,s.a)(),r=(0,l.useRouter)();return((0,o.useEffect)(()=>{!t&&e&&(e.is_admin?r.replace("/admin/leads"):r.replace("/dashboard"))},[e,t,r]),t)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,n.jsxs)("div",{className:"text-center mb-16",children:[(0,n.jsxs)("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["TrendHijacking",(0,n.jsx)("span",{className:"text-blue-600",children:" Affiliate Program"})]}),(0,n.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"Submit qualified leads, track your earnings, and request payouts. Join our affiliate program and start earning today."})]}),(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,n.jsx)(i.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,n.jsxs)("div",{onClick:()=>r.push("/login"),children:[(0,n.jsxs)(i.Ol,{className:"text-center",children:[(0,n.jsx)(i.ll,{className:"text-2xl",children:"Sign In"}),(0,n.jsx)(i.SZ,{children:"Welcome back! Sign in to your affiliate account"})]}),(0,n.jsx)(i.aY,{className:"text-center",children:(0,n.jsxs)(a.z,{size:"lg",className:"w-full",children:["Sign In",(0,n.jsx)(c,{className:"ml-2 h-4 w-4"})]})})]})}),(0,n.jsx)(i.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,n.jsxs)("div",{onClick:()=>r.push("/signup"),children:[(0,n.jsxs)(i.Ol,{className:"text-center",children:[(0,n.jsx)(i.ll,{className:"text-2xl",children:"Join Program"}),(0,n.jsx)(i.SZ,{children:"Create a new affiliate account and start earning"})]}),(0,n.jsx)(i.aY,{className:"text-center",children:(0,n.jsxs)(a.z,{variant:"outline",size:"lg",className:"w-full",children:["Create Account",(0,n.jsx)(c,{className:"ml-2 h-4 w-4"})]})})]})})]})})]})})}},4873:function(e,t,r){"use strict";r.d(t,{Providers:function(){return l},a:function(){return o}});var n=r(7437),s=r(2265),a=r(2141);let i=(0,s.createContext)({user:null,session:null,loading:!0,signOut:async()=>{}});function l(e){var t;let{children:r}=e,[l,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,f]=(0,s.useState)(!0),m=(0,s.useCallback)(async e=>{try{let{data:n,error:s}=await a.O.from("users").select("*").eq("id",e).single();if(s){var t,r;if("42P01"===s.code||s.message.includes('relation "users" does not exist')){let r={id:e,email:(null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.email)||"",first_name:"",last_name:"",profile_image:"",is_admin:!1,payout_method:void 0,payout_details:void 0,created_at:new Date().toISOString()};o(r),f(!1);return}try{let{data:t,error:n}=await a.O.from("users").insert({id:e,email:(null==c?void 0:null===(r=c.user)||void 0===r?void 0:r.email)||"",first_name:"",last_name:"",is_admin:!1}).select().single();if(n){if(n.message.includes("duplicate key")){let{data:t,error:r}=await a.O.from("users").select("*").eq("id",e).single();r?o(null):o(t)}else o(null)}else o(t)}catch(n){let{data:t,error:r}=await a.O.from("users").select("*").eq("id",e).single();r?o(null):o(t)}}else o(n)}catch(e){o(null)}finally{f(!1)}},[null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.email]);(0,s.useEffect)(()=>{a.O.auth.getSession().then(e=>{let{data:{session:t}}=e;d(t),(null==t?void 0:t.user)?m(t.user.id):f(!1)});let{data:{subscription:e}}=a.O.auth.onAuthStateChange(async(e,t)=>{d(t),(null==t?void 0:t.user)?await m(t.user.id):(o(null),f(!1))});return()=>e.unsubscribe()},[m]),(0,s.useEffect)(()=>{if(!u&&!l&&!c){let e=setTimeout(()=>{f(!1)},100);return()=>clearTimeout(e)}},[u,l,c]);let x=async()=>{await a.O.auth.signOut()};return(0,n.jsx)(i.Provider,{value:{user:l,session:c,loading:u,signOut:x},children:r})}let o=()=>(0,s.useContext)(i)},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),s=r(2265),a=r(7495),i=r(535),l=r(4508);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=r(7437),s=r(2265),a=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},2141:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});let n=(0,r(6580).eI)("https://mqqitthsouwovhcwclmz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xcWl0dGhzb3V3b3ZoY3djbG16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1NTQ5MTMsImV4cCI6MjA2OTEzMDkxM30.x3WZIgav0R2SClY0B4kiNtHm2MWZKMkNH5m50NjsLQQ")},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(1994),s=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[580,697,971,117,744],function(){return e(e.s=3545)}),_N_E=e.O()}]);